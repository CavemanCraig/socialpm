<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:ocp="http://java.sun.com/jsf/composite/ocpcommon"
	xmlns:pretty="http://ocpsoft.com/prettyfaces"
	xmlns:spm="http://java.sun.com/jsf/composite/socialpm"
	xmlns:a="http://java.sun.com/jsf/composite/ajax">

<ui:composition template="/WEB-INF/view/templates/socialpm.xhtml">

	<ui:param name="title"
		value="#{currentProjectBean.project.name} &#187; Milestones" />

	<ui:define name="header">
		<h2>&#187; Milestones</h2>
	</ui:define>

	<ui:define name="side-items">
		<li>
		<h3>Add a Milestone</h3>
		<div><h:form>
			<ocp:formFix />
			<label for="name"><h:outputText value="Name" /><ocp:message
				for="name" /><br />
			</label>
			<h:inputText id="name" value="#{manageMilestonesBean.milestone.name}"
				required="true" />
			<br />
			<br />
			<label for="date"><h:outputText
				value="Target Date (mm/dd/yyyy):" /><ocp:message for="date" /><br />
			</label>
			<ocp:datepicker id="date"
				value="#{manageMilestonesBean.milestone.targetDate}" required="true" />
			<br />
			<br />
			<h:commandButton action="#{manageMilestonesBean.create}"
				value="Add milestone"></h:commandButton>
		</h:form></div>
		</li>
	</ui:define>

	<ui:define name="content">
		<h:form id="releasesform" prependId="false">
			<div style="float: left; margin-left: 10px;">&#171; <a href="#">Past
			milestones</a></div>
			<div style="float: right; margin-right: 10px;"><a href="#">Future
			milestones</a> &#187;</div>
			<div class="clearing" style="margin-bottom: 5px;"></div>
			<ocp:formFix />

			<ui:repeat value="#{currentProjectBean.project.milestones}" var="m">
				<spm:milestone milestone="#{m}" styleClass="m5t" deletable="true"/>
			</ui:repeat>
			<div class="clearing" style="margin-bottom: 10px;"></div>
		</h:form>
	</ui:define>
</ui:composition>
</html>